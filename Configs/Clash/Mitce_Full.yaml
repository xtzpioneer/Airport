# Mitce æœºåœºå®˜ç½‘ï¼šhttps://mitce.com/aff.php?aff=4905
# Mitce æœºåœºå®šåˆ¶é…ç½®ï¼šhttps://raw.githubusercontent.com/xtzPioneer/Airport/main/Configs/Clash/Mitce_Full.yaml
#
# Mihomo å†…æ ¸ï¼šhttps://github.com/MetaCubeX/mihomo
# Mihomo å†…æ ¸æ–‡æ¡£ï¼šhttps://wiki.metacubex.one
#
# Clash Verg Rev æ”¯æŒï¼šhttps://github.com/clash-verge-rev/clash-verge-rev
# Mihomo Party æ”¯æŒï¼šhttps://github.com/pompurin404/mihomo-party
# ClashMetaForAndroid æ”¯æŒï¼šhttps://github.com/MetaCubeX/ClashMetaForAndroid.git
#
# è§„åˆ™æä¾›å•†ï¼šhttps://github.com/blackmatrix7/ios_rule_script/tree/master/rule/Clash
# è§„åˆ™æä¾›å•†ï¼šhttps://github.com/Loyalsoldier/clash-rules
# è§„åˆ™æä¾›å•†ï¼šhttps://github.com/SukkaW/Surge
#
# Geoæä¾›å•†ï¼šhttps://github.com/MetaCubeX/meta-rules-dat
# Geoæä¾›å•†ï¼šhttps://github.com/P3TERX/GeoLite.mmdb
#
# å›¾æ ‡æä¾›å•†ï¼šhttps://github.com/Koolson/Qure.git
#
# é…ç½®æ–‡ä»¶å‚è€ƒå•†ï¼šhttps://github.com/MetaCubeX/mihomo/blob/Meta/docs/config.yaml
# é…ç½®æ–‡ä»¶å‚è€ƒå•†ï¼šhttps://raw.githubusercontent.com/666OS/YYDS/main/mihomo/config/MihomoPro_icon.yaml
# é…ç½®æ–‡ä»¶å‚è€ƒå•†ï¼šhttps://github.com/Coldvvater/Mononoke/blob/master/Clash/Config/Evolve.yaml
# é…ç½®æ–‡ä»¶å‚è€ƒå•†ï¼šhttps://github.com/Repcz/Tool/blob/X/Clash/Meta/Mihomo.yaml
# é…ç½®æ–‡ä»¶å‚è€ƒå•†ï¼šhttps://github.com/SukkaW/Surge
#
# æ”¯æŒå¹³å°/åº”ç”¨ï¼šmacOS/Windows/Linux/Clash Verg Rev (Version â‰¥ 1.7.7ï¼‰
# æ”¯æŒå¹³å°/åº”ç”¨ï¼šmacOS/Windows/Linux/Mihomo Party (Version â‰¥ 1.2.8ï¼‰
# æ”¯æŒå¹³å°/åº”ç”¨ï¼šandroid/ClashMetaForAndroid (Version >= 2.10.4)
#
# å¹¿å‘Šæ‹¦æˆªï¼ˆå¯å…³é—­ï¼‰ï¼šæ”¯æŒ
# è‡ªåŠ¨æµ‹é€Ÿï¼šæ”¯æŒ
# æ•…éšœè½¬ç§»ï¼ˆå…¨èŠ‚ç‚¹+åœ°åŒºèŠ‚ç‚¹ï¼‰ï¼šæ”¯æŒ
# è´Ÿè½½å‡è¡¡ï¼ˆå…¨èŠ‚ç‚¹+åœ°åŒºèŠ‚ç‚¹ æ•£åˆ—+è½®è¯¢ï¼‰ï¼šæ”¯æŒ
# å…œåº•ä»£ç†ï¼šæ”¯æŒ
#
# å¾®è½¯åˆ†æµï¼šæ”¯æŒ
# è‹¹æœåˆ†æµï¼šæ”¯æŒ
# è°·æ­Œåˆ†æµï¼šæ”¯æŒ
# å›½é™…åª’ä½“åˆ†æµï¼šæ”¯æŒ
# å›½é™…äº’è”åˆ†æµï¼šæ”¯æŒ
# äººå·¥æ™ºèƒ½åˆ†æµï¼šæ”¯æŒ
# å¥ˆé£è§†é¢‘åˆ†æµï¼šæ”¯æŒ
# YouTube è§†é¢‘åˆ†æµï¼šæ”¯æŒ
# YouTube éŸ³ä¹åˆ†æµï¼šæ”¯æŒ
# ç”µæŠ¥æ¶ˆæ¯åˆ†æµï¼šæ”¯æŒ
# Discordåˆ†æµï¼šæ”¯æŒ
# Emby è§†é¢‘åˆ†æµï¼šæ”¯æŒ
# Spotify éŸ³ä¹åˆ†æµï¼šæ”¯æŒ
# æ¸¸æˆæœåŠ¡åˆ†æµï¼šæ”¯æŒ
# å›½é™…æŠ–éŸ³åˆ†æµï¼šæ”¯æŒ
# ç½‘ç»œæµ‹é€Ÿåˆ†æµï¼šæ”¯æŒ
#
# åŒºåˆ†åœ°åŒºï¼šæ”¯æŒ
# æ‰‹åŠ¨é€‰æ‹©åœ°åŒºåœ°åŒºï¼šæ”¯æŒ
# è‡ªåŠ¨é€‰æ‹©åœ°åŒºåœ°åŒºï¼šæ”¯æŒ
#
# æ›´æ–°æ—¶é—´ï¼š2024/12/02

# MARK: ç«¯å£é…ç½®
#
# HTTP(S) ä»£ç†æœåŠ¡å™¨ç«¯å£
port: 7890
# SOCKS5 ä»£ç†ç«¯å£
socks-port: 7891
# HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
mixed-port: 7892
# é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
redir-port: 7893
# é€‚ç”¨äº Linux çš„é€æ˜ä»£ç†æœåŠ¡å™¨ç«¯å£ï¼ˆTProxy TCP å’Œ TProxy UDPï¼‰
tproxy-port: 7894

# MARK: å±€åŸŸç½‘é…ç½®
#
# å…è®¸å±€åŸŸç½‘è¿æ¥
allow-lan: true
# ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º trueï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€
bind-address: "*"
# http,socks å…¥å£çš„éªŒè¯ç”¨æˆ·åï¼Œå¯†ç 
authentication:
  # - "admin:12345678"
# è®¾ç½®è·³è¿‡éªŒè¯çš„ IP æ®µ
skip-auth-prefixes:
  - 127.0.0.1/8
  - ::1/128
# å…è®¸è¿æ¥çš„ IP åœ°å€æ®µï¼Œä»…ä½œç”¨äº allow-lan ä¸º true, é»˜è®¤å€¼ä¸º 0.0.0.0/0 å’Œ::/0
lan-allowed-ips:
  - 0.0.0.0/0
  - ::/0
# ç¦æ­¢è¿æ¥çš„ IP åœ°å€æ®µï¼Œé»‘åå•ä¼˜å…ˆçº§é«˜äºç™½åå•ï¼Œé»˜è®¤å€¼ä¸ºç©º
lan-disallowed-ips:
  # - 192.168.X.X/32

# MARK: è¿›ç¨‹åŒ¹é…æ¨¡å¼é…ç½®
#
#  - always, å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹
#  - strict, é»˜è®¤ï¼Œç”± mihomo åˆ¤æ–­æ˜¯å¦å¼€å¯
#  - off, ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼
find-process-mode: strict

# MARK: è¿è¡Œæ¨¡å¼é…ç½®
#
# rule è§„åˆ™åŒ¹é…
# global å…¨å±€ä»£ç† (éœ€è¦åœ¨ GLOBAL ç­–ç•¥ç»„é€‰æ‹©ä»£ç†/ç­–ç•¥)
# direct å…¨å±€ç›´è¿
# æ­¤é¡¹æ‹¥æœ‰é»˜è®¤å€¼ï¼Œé»˜è®¤ä¸ºruleæ¨¡å¼
mode: rule

# MARK: GEOIPæ•°æ®æ¨¡å¼é…ç½®
#
# Geodata Url
geox-url:
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat"
  geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb"
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb
# æ›´æ”¹ geoip ä½¿ç”¨æ–‡ä»¶ï¼Œmmdb æˆ–è€… datï¼Œå¯é€‰ true/false,trueä¸º datï¼Œæ­¤é¡¹æœ‰é»˜è®¤å€¼ false
geodata-mode: false
# æ˜¯å¦è‡ªåŠ¨æ›´æ–° geodata
geo-auto-update: true
# æ›´æ–°é—´éš”ï¼Œå•ä½ï¼šå°æ—¶
geo-update-interval: 24
# å¯é€‰çš„åŠ è½½æ¨¡å¼å¦‚ä¸‹
# standardï¼šæ ‡å‡†åŠ è½½å™¨
# memconservativeï¼šä¸“ä¸ºå†…å­˜å—é™ (å°å†…å­˜) è®¾å¤‡ä¼˜åŒ–çš„åŠ è½½å™¨ (é»˜è®¤å€¼)
geodata-loader: standard

# MARK: è‡ªå®šå…¨å±€ UA
#
# è‡ªå®šä¹‰å¤–éƒ¨èµ„æºä¸‹è½½æ—¶ä½¿ç”¨çš„çš„ UAï¼Œé»˜è®¤ä¸º clash.meta
global-ua: clash.meta

# MARK: æ—¥å¿—é…ç½®
#
# æ—¥å¿—ç­‰çº§ silent/error/warning/info/debug
log-level: info

# MARK: IPV6é…ç½®
#
# å¼€å¯ IPv6 æ€»å¼€å…³ï¼Œå…³é—­é˜»æ–­æ‰€æœ‰ IPv6 é“¾æ¥å’Œå±è”½ DNS è¯·æ±‚ AAAA è®°å½•
# æ˜¯å¦å…è®¸å†…æ ¸æ¥å— IPv6 æµé‡
# å¯é€‰å€¼ true/false,é»˜è®¤ä¸º true
ipv6: true

# MARK: ETagæ”¯æŒ
#
# å¤–éƒ¨èµ„æºä¸‹è½½çš„ ETag æ”¯æŒï¼Œé»˜è®¤ä¸º true
etag-support: true

# MARK: WEB UIé…ç½®
#
# ç›®å½•ï¼Œä½¿ç”¨ http://{{external-controller}}/ui è®¿é—®
external-ui: ui
external-ui-name: metacubexd
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
# API ç›‘å¬åœ°å€
external-controller: 0.0.0.0:9090
# API CORS æ ‡å¤´é…ç½®
external-controller-cors:
  allow-origins:
    - "*"
  allow-private-network: true
# ä»Unix socketè®¿é—®apiæ¥å£ä¸ä¼šéªŒè¯secretï¼Œ å¦‚æœå¼€å¯è¯·è‡ªè¡Œä¿è¯å®‰å…¨é—®é¢˜
external-controller-unix: mihomo.sock
# API HTTPS ç›‘å¬åœ°å€ï¼Œéœ€è¦é…ç½® tls éƒ¨åˆ†é…ç½®æ–‡ä»¶
external-controller-tls: 0.0.0.0:9443
# åœ¨ RESTful API ç«¯å£ä¸Šå¼€å¯ DOH æœåŠ¡å™¨
# è¯¥URLä¸ä¼šéªŒè¯secretï¼Œ å¦‚æœå¼€å¯è¯·è‡ªè¡Œä¿è¯å®‰å…¨é—®é¢˜
external-doh-server: /dns-query
# API çš„è®¿é—®å¯†é’¥
secret: ""

# MARK: TCP å¹¶å‘é…ç½®
#
# TCP å¹¶å‘è¿æ¥æ‰€æœ‰ IP, å°†ä½¿ç”¨æœ€å¿«æ¡æ‰‹çš„ TCP
tcp-concurrent: true

# MARK: å»¶è¿Ÿé…ç½®
#
# å¼€å¯ç»Ÿä¸€å»¶è¿Ÿæ—¶ï¼Œä¼šè®¡ç®— RTTï¼Œä»¥æ¶ˆé™¤è¿æ¥æ¡æ‰‹ç­‰å¸¦æ¥çš„ä¸åŒç±»å‹èŠ‚ç‚¹çš„å»¶è¿Ÿå·®å¼‚
# å¯é€‰å€¼ true/false
unified-delay: true

# MARK: TLS
#
# ç›®å‰ä»…ç”¨äº API çš„ https
tls:
  certificate: string # è¯ä¹¦ PEM æ ¼å¼ï¼Œæˆ–è€… è¯ä¹¦çš„è·¯å¾„
  private-key: string # è¯ä¹¦å¯¹åº”çš„ç§é’¥ PEM æ ¼å¼ï¼Œæˆ–è€…ç§é’¥è·¯å¾„

# MARK: TLS æŒ‡çº¹é…ç½®
#
# å…¨å±€ TLS æŒ‡çº¹ï¼Œä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprint
# å¯é€‰ï¼š "chrome","firefox","safari","ios","random","none" options.
global-client-fingerprint: chrome

# MARK: è·¯ç”±æ ‡è®°
#
# ä¸º Linux ä¸‹çš„å‡ºç«™è¿æ¥æä¾›é»˜è®¤æµé‡æ ‡è®°
routing-mark: 1000

# MARK: TCP Keep Alive é…ç½®
#
# ä¿®æ”¹æ­¤é¡¹ä»¥å‡å°‘ç§»åŠ¨è®¾å¤‡è€—ç”µé—®é¢˜
# TCP Keep Alive åŒ…çš„é—´éš”ï¼Œå•ä½ä¸ºç§’
keep-alive-interval: 15
# TCP Keep Alive çš„æœ€å¤§ç©ºé—²æ—¶é—´
keep-alive-idle: 600
# ç¦ç”¨ TCP Keep Aliveï¼Œåœ¨ Amdroid é»˜è®¤ä¸º true
disable-keep-alive: false

# MARK: æŒä¹…åŒ–é…ç½®
#
# ç¼“å­˜ä¿¡æ¯
profile:
  # å­˜å‚¨ select é€‰æ‹©è®°å½•
  # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©ï¼Œä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  store-selected: true
  # æŒä¹…åŒ– fake-ip
  # å‚¨å­˜ fakeip æ˜ å°„è¡¨ï¼ŒåŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶ï¼Œä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€
  store-fake-ip: true

# MARK: TUNé…ç½®
#
# è™šæ‹Ÿç½‘å¡
tun:
  # æ˜¯å¦å¼€å¯
  enable: false
  # tun æ¨¡å¼å †æ ˆï¼Œå¦‚æ— ä½¿ç”¨é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨ mixedæ ˆï¼Œé»˜è®¤ gvisor
  # å¯ç”¨å€¼ï¼š system/gvisor/mixed
  # system ä½¿ç”¨ç³»ç»Ÿåè®®æ ˆï¼Œå¯ä»¥æä¾›æ›´ç¨³å®š/å…¨é¢çš„ tun ä½“éªŒï¼Œä¸”å ç”¨ç›¸å¯¹å…¶ä»–å †æ ˆæ›´ä½
  # gvisor é€šè¿‡åœ¨ç”¨æˆ·ç©ºé—´ä¸­å®ç°ç½‘ç»œåè®®æ ˆï¼Œå¯ä»¥æä¾›æ›´é«˜çš„å®‰å…¨æ€§å’Œéš”ç¦»æ€§ï¼ŒåŒæ—¶å¯ä»¥é¿å…æ“ä½œç³»ç»Ÿå†…æ ¸å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´çš„åˆ‡æ¢ï¼Œä»è€Œåœ¨ç‰¹å®šæƒ…å†µä¸‹å…·æœ‰æ›´å¥½çš„ç½‘ç»œå¤„ç†æ€§èƒ½
  # mixed æ··åˆå †æ ˆï¼Œtcp ä½¿ç”¨ systemæ ˆï¼Œudp ä½¿ç”¨ gvisoræ ˆï¼Œä½¿ç”¨ä½“éªŒå¯èƒ½ç›¸å¯¹æ›´å¥½
  stack: system
  # dns åŠ«æŒï¼Œå°†åŒ¹é…åˆ°çš„è¿æ¥å¯¼å…¥å†…éƒ¨ dns æ¨¡å—
  dns-hijack:
    - "any:53"
  # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£ï¼Œå¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  auto-detect-interface: true
  # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±ï¼Œå¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡ã€‚
  auto-route: true
  # æœ€å¤§ä¼ è¾“å•å…ƒ
  mtu: 1500
  # è‡ªåŠ¨é…ç½® iptables ä»¥é‡å®šå‘ TCP è¿æ¥ã€‚ä»…æ”¯æŒ Linuxã€‚å¸¦æœ‰ auto-redirect çš„ auto-route ç°åœ¨å¯ä»¥åœ¨è·¯ç”±å™¨ä¸ŠæŒ‰é¢„æœŸå·¥ä½œï¼Œæ— éœ€å¹²é¢„ã€‚
  auto-redirect: true
  # æ˜¯å¦å¯ç”¨ä¸¥æ ¼çš„è·¯ç”±
  # å¯ç”¨ auto-route æ—¶æ‰§è¡Œä¸¥æ ¼çš„è·¯ç”±è§„åˆ™
  # åœ¨ Linux ä¸­:
  # è®©ä¸æ”¯æŒçš„ç½‘ç»œæ— æ³•åˆ°è¾¾
  # å°†æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun
  # å®ƒå¯ä»¥é˜²æ­¢åœ°å€æ³„æ¼ï¼Œå¹¶ä½¿ DNS åŠ«æŒåœ¨ Android ä¸Šå·¥ä½œã€‚
  # åœ¨ Windows ä¸­:
  # æ·»åŠ é˜²ç«å¢™è§„åˆ™ä»¥é˜»æ­¢ Windows çš„ æ™®é€šå¤šå®¿ä¸» DNS è§£æè¡Œä¸º é€ æˆçš„ DNS æ³„éœ²
  # å®ƒå¯èƒ½ä¼šä½¿æŸäº›åº”ç”¨ç¨‹åºï¼ˆå¦‚ VirtualBoxï¼‰åœ¨æŸäº›æƒ…å†µä¸‹æ— æ³•æ­£å¸¸å·¥ä½œã€‚
  strict-route: false
  # å¯ç”¨ auto-route æ—¶æ’é™¤è‡ªå®šä¹‰ç½‘æ®µ
  route-exclude-address:
    # - 172.16.X.X/16

# MARK: åŸŸåå—…æ¢é…ç½®
#
# åŸŸåå—…æ¢
sniffer:
  # æ˜¯å¦å¯ç”¨ sniffer
  enable: true
  # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  force-dns-mapping: true
  # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  parse-pure-ip: true
  # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®ï¼Œé»˜è®¤ä¸º true
  override-destination: true
  # éœ€è¦å—…æ¢çš„åè®®è®¾ç½®ï¼Œä»…æ”¯æŒ HTTP/TLS/QUIC
  # ports: ç«¯å£èŒƒå›´
  # override-destination: è¦†ç›–å…¨å±€override-destinationè®¾ç½®
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  # å¼ºåˆ¶è¿›è¡Œå—…æ¢çš„åŸŸååˆ—è¡¨ï¼Œä½¿ç”¨åŸŸåé€šé…
  force-domain:
    - "+.v2ex.com"
  # è·³è¿‡å—…æ¢çš„åŸŸååˆ—è¡¨ï¼Œä½¿ç”¨åŸŸåé€šé…
  skip-domain:
    - "Mijia Cloud"
  # è·³è¿‡å—…æ¢çš„æ¥æº IP æ®µåˆ—è¡¨
  skip-src-address:
    # - 192.168.X.X/32
  # è·³è¿‡å—…æ¢çš„ç›®æ ‡ IP æ®µåˆ—è¡¨
  skip-dst-address:
    # - 192.168.X.X/32

# MARK: DNSé…ç½®
#
# DNS
dns:
  # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  enable: true
  # æ˜¯å¦å¼€å¯ DoH æ”¯æŒ HTTP/3ï¼Œå°†å¹¶å‘å°è¯•
  prefer-h3: false
  # å¼€å¯ DNS æœåŠ¡å™¨ç›‘å¬
  listen: 0.0.0.0:53
  # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  ipv6: true
  # å•ä½ï¼šmsï¼Œå†…éƒ¨åŒæ ˆå¹¶å‘æ—¶ï¼Œå‘ä¸Šæ¸¸æŸ¥è¯¢ AAAA æ—¶ï¼Œç­‰å¾… AAAA çš„æ—¶é—´ï¼Œé»˜è®¤ 100ms
  ipv6-timeout: 200
  # é…ç½®fake-ip-filterçš„åŒ¹é…æ¨¡å¼ï¼Œå¯é€‰ blacklist/whitelist
  # é»˜è®¤ä¸ºblacklistï¼Œå³å¦‚æœåŒ¹é…æˆåŠŸä¸è¿”å›fake-ip
  # å¯è®¾ç½®ä¸ºwhitelistï¼Œå³åªæœ‰åŒ¹é…æˆåŠŸæ‰è¿”å›fake-ip
  fake-ip-filter-mode: blacklist
  # æ˜¯å¦æŸ¥è¯¢ç³»ç»Ÿ hostsï¼Œé»˜è®¤ true
  use-system-hosts: true
  # æ˜¯å¦å›åº”é…ç½®ä¸­çš„ hostsï¼Œé»˜è®¤ true
  use-hosts: true
  # é…ç½®åé¢çš„nameserverã€fallbackå’Œnameserver-policyå‘dnsæœåŠ¡å™¨çš„è¿æ¥è¿‡ç¨‹æ˜¯å¦éµå®ˆéµå®ˆrulesè§„åˆ™
  # å¦‚æœä¸ºfalseï¼ˆé»˜è®¤å€¼ï¼‰åˆ™è¿™ä¸‰éƒ¨åˆ†çš„dnsæœåŠ¡å™¨åœ¨æœªç‰¹åˆ«æŒ‡å®šçš„æƒ…å†µä¸‹ä¼šç›´è¿
  # å¦‚æœä¸ºtrueï¼Œå°†ä¼šæŒ‰ç…§rulesçš„è§„åˆ™åŒ¹é…é“¾æ¥æ–¹å¼ï¼ˆèµ°ä»£ç†æˆ–ç›´è¿ï¼‰ï¼Œå¦‚æœæœ‰ç‰¹åˆ«æŒ‡å®šåˆ™ä»»ç„¶ä»¥æŒ‡å®šå€¼ä¸ºå‡†
  # ä»…å½“proxy-server-nameserveréç©ºæ—¶å¯ä»¥å¼€å¯æ­¤é€‰é¡¹, å¼ºçƒˆä¸å»ºè®®å’Œprefer-h3ä¸€èµ·ä½¿ç”¨
  # æ­¤å¤–ï¼Œè¿™ä¸‰è€…é…ç½®ä¸­çš„dnsæœåŠ¡å™¨å¦‚æœå‡ºç°åŸŸåä¼šé‡‡ç”¨default-nameserveré…ç½®é¡¹è§£æï¼Œä¹Ÿè¯·ç¡®ä¿æ­£ç¡®é…ç½®default-nameserver
  respect-rules: false
  # ç”¨äºè§£æ nameserverï¼Œfallback ä»¥åŠå…¶ä»– DNS æœåŠ¡å™¨é…ç½®çš„ï¼ŒDNS æœåŠ¡åŸŸå
  # åªèƒ½ä½¿ç”¨çº¯ IP åœ°å€ï¼Œå¯ä½¿ç”¨åŠ å¯† DNS
  # system ä»ç³»ç»Ÿé…ç½®ä¸­é™„åŠ  DNS æœåŠ¡å™¨ã€‚å¦‚æœæœªæ‰¾åˆ°ï¼Œå®ƒå°†æ‰“å°é”™è¯¯æ—¥å¿—å¹¶è·³è¿‡ã€‚
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 180.76.76.76
    - 8.8.8.8
    - 1.1.1.1
    - 208.67.222.222
    - "[2400:3200::1]"
    - "[2402:4e00::]"
    - "[2400:da00::6666]"
    - "[2001:4860:4860::8888]"
    - "[2606:4700:4700::1111]"
    - "[2620:0:ccc::2]"
    - system
  # ç”¨äºdirectå‡ºå£åŸŸåè§£æçš„ DNS æœåŠ¡å™¨ï¼Œå¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  direct-nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 180.76.76.76
    - "[2400:3200::1]"
    - "[2402:4e00::]"
    - "[2400:da00::6666]"
    - system
  # æ˜¯å¦éµå¾ªnameserver-policyï¼Œé»˜è®¤ä¸ºä¸éµå®ˆï¼Œä»…å½“direct-nameserverä¸ä¸ºç©ºæ—¶ç”Ÿæ•ˆ
  direct-nameserver-follow-policy: true
  # é»˜è®¤çš„åŸŸåè§£ææœåŠ¡å™¨
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
    - https://doh.opendns.com/dns-query
    - 223.5.5.5
    - 119.29.29.29
    - 180.76.76.76
    - "[2400:3200::1]"
    - "[2402:4e00::]"
    - "[2400:da00::6666]"
    - system
  # æŒ‡å®šåŸŸåæŸ¥è¯¢çš„è§£ææœåŠ¡å™¨ï¼Œå¯ä½¿ç”¨ geosite, ä¼˜å…ˆäº nameserver/fallback æŸ¥è¯¢
  # é”®æ”¯æŒåŸŸåé€šé…
  # å€¼æ”¯æŒå­—ç¬¦ä¸²/æ•°ç»„
  nameserver-policy: null
  # åå¤‡åŸŸåè§£ææœåŠ¡å™¨ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨å¢ƒå¤– DNS, ä¿è¯ç»“æœå¯ä¿¡
  # é…ç½® fallbackåé»˜è®¤å¯ç”¨ fallback-filter,geoip-codeä¸º cn
  fallback:
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query
    - https://doh.opendns.com/dns-query
    - 8.8.8.8
    - 1.1.1.1
    - 208.67.222.222
    - "[2001:4860:4860::8888]"
    - "[2606:4700:4700::1111]"
    - "[2620:0:ccc::2]"
  # ä»£ç†èŠ‚ç‚¹åŸŸåè§£ææœåŠ¡å™¨ï¼Œä»…ç”¨äºè§£æä»£ç†èŠ‚ç‚¹çš„åŸŸåï¼Œ
  # å¦‚æœä¸å¡«åˆ™éµå¾ªnameserver-policyã€nameserverå’Œfallbackçš„é…ç½®
  proxy-server-nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
    - https://doh.360.cn/dns-query
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query
    - https://doh.opendns.com/dns-query
  # å¯é€‰å€¼ fake-ip/redir-hostï¼Œé»˜è®¤redir-host
  enhanced-mode: fake-ip
  # fake-ip æ± è®¾ç½®
  fake-ip-range: 10.96.0.0/16
  # fakeip è¿‡æ»¤ï¼Œä»¥ä¸‹åœ°å€ä¸ä¼šä¸‹å‘ fakeip æ˜ å°„ç”¨äºè¿æ¥
  # å€¼æ”¯æŒåŸŸåé€šé…ä»¥åŠå¼•å…¥åŸŸåé›†åˆ
  # - rule-set:fakeip-filter fakeip-filter ä¸º rule-providers ä¸­çš„åä¸º fakeip-filter è§„åˆ™è®¢é˜…ï¼Œ
  # ä¸” behavior å¿…é¡»ä¸º domain/classicalï¼Œå½“ä¸º classical æ—¶ä»…ä¼šç”Ÿæ•ˆåŸŸåç±»è§„åˆ™
  fake-ip-filter:
    # LAN
    - "*.lan"
    - "*.local"
    - "*.localhost"
    - "*.localdomain"
    - "*.test"
    - "*.example"
    - "*.invalid"
    - "*.home.arpa"
    - rule-set:direct-private-domain
    - rule-set:direct-lan-classical
    # DNS
    - rule-set:direct-dns-classical
    - rule-set:globe-dns-classical
    - rule-set:dns-classical
    # NTP
    - rule-set:ntp-classical
    # STUN
    - rule-set:stun-classical
  # åå¤‡åŸŸåè§£ææœåŠ¡å™¨ç­›é€‰ï¼Œæ»¡è¶³æ¡ä»¶çš„å°†ä½¿ç”¨ fallbackç»“æœæˆ–åªä½¿ç”¨ fallbackè§£æ
  fallback-filter:
    # æ˜¯å¦å¯ç”¨ geoip åˆ¤æ–­
    geoip: true
    # å¯é€‰å€¼ä¸º å›½å®¶ç¼©å†™ï¼Œé»˜è®¤å€¼ä¸º CN
    # é™¤äº† geoip-code é…ç½®çš„å›½å®¶ IP, å…¶ä»–çš„ IP ç»“æœä¼šè¢«è§†ä¸ºæ±¡æŸ“
    # geoip-code é…ç½®çš„å›½å®¶çš„ç»“æœä¼šç›´æ¥é‡‡ç”¨ï¼Œå¦åˆ™å°†é‡‡ç”¨ fallbackç»“æœ
    geoip-code: CN
    # å¯é€‰å€¼ä¸ºå¯¹äºçš„ geosite å†…åŒ…å«çš„é›†åˆ
    # geosite åˆ—è¡¨çš„å†…å®¹è¢«è§†ä¸ºå·²æ±¡æŸ“ï¼ŒåŒ¹é…åˆ° geosite çš„åŸŸåï¼Œå°†åªä½¿ç”¨ fallbackè§£æï¼Œä¸å»ä½¿ç”¨ nameserver
    geosite:
      - gfw
      - geolocation-!cn
    # è¿™äº›ç½‘æ®µçš„ç»“æœä¼šè¢«è§†ä¸ºæ±¡æŸ“ï¼Œnameserverè§£æå‡ºè¿™äº›ç»“æœæ—¶å°†ä¼šé‡‡ç”¨ fallbackçš„è§£æç»“æœ
    ipcidr:
      # - 240.0.0.0/4
    # è¿™äº›åŸŸåè¢«è§†ä¸ºå·²æ±¡æŸ“ï¼ŒåŒ¹é…åˆ°è¿™äº›åŸŸåï¼Œä¼šç›´æ¥ä½¿ç”¨ fallbackè§£æï¼Œä¸å»ä½¿ç”¨ nameserver
    domain:
      # - "+.google.com"
      # - "+.github.com"
      # - "+.youtube.com"

# MARK: ç­–ç•¥ç»„é”šç‚¹

# èŠ‚ç‚¹é€‰æ‹©ï¼ˆé»˜è®¤èŠ‚ç‚¹ï¼šè‡ªåŠ¨é€‰æ‹©ï¼‰
proxie-select: &proxie-select
  type: select
  proxies:
    - è‡ªåŠ¨é€‰æ‹©
    - æ‰‹åŠ¨é€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©åœ°åŒº
    - æ‰‹åŠ¨é€‰æ‹©åœ°åŒº
    - æ•…éšœè½¬ç§»
    - åœ°åŒºæ•…éšœè½¬ç§»
    - è´Ÿè½½å‡è¡¡æ•£åˆ—
    - è´Ÿè½½å‡è¡¡è½®è¯¢
    - åœ°åŒºè´Ÿè½½å‡è¡¡æ•£åˆ—
    - åœ°åŒºè´Ÿè½½å‡è¡¡è½®è¯¢
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - æ–°åŠ å¡èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å¾·å›½èŠ‚ç‚¹
    - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
    - è‹±å›½èŠ‚ç‚¹
    - å°åº¦èŠ‚ç‚¹

# åŒºåŸŸé€‰æ‹© (é»˜è®¤èŠ‚ç‚¹ï¼šé¦™æ¸¯)
region-select: &region-select
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - æ–°åŠ å¡èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å¾·å›½èŠ‚ç‚¹
    - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
    - è‹±å›½èŠ‚ç‚¹
    - å°åº¦èŠ‚ç‚¹

# é»˜è®¤é€‰æ‹© (é»˜è®¤èŠ‚ç‚¹ï¼šèŠ‚ç‚¹é€‰æ‹©)
default-select: &default-select
  type: select
  proxies:
    - èŠ‚ç‚¹é€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©
    - æ‰‹åŠ¨é€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©åœ°åŒº
    - æ‰‹åŠ¨é€‰æ‹©åœ°åŒº
    - æ•…éšœè½¬ç§»
    - åœ°åŒºæ•…éšœè½¬ç§»
    - è´Ÿè½½å‡è¡¡æ•£åˆ—
    - è´Ÿè½½å‡è¡¡è½®è¯¢
    - åœ°åŒºè´Ÿè½½å‡è¡¡æ•£åˆ—
    - åœ°åŒºè´Ÿè½½å‡è¡¡è½®è¯¢
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - æ–°åŠ å¡èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å¾·å›½èŠ‚ç‚¹
    - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
    - è‹±å›½èŠ‚ç‚¹
    - å°åº¦èŠ‚ç‚¹
    - ç›´è¿

# å›½å†…é€‰æ‹©ï¼ˆé»˜è®¤èŠ‚ç‚¹ï¼šç›´è¿ï¼‰
cns-elect: &cns-elect
  type: select
  proxies:
    - ç›´è¿
    - èŠ‚ç‚¹é€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©
    - æ‰‹åŠ¨é€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©åœ°åŒº
    - æ‰‹åŠ¨é€‰æ‹©åœ°åŒº
    - æ•…éšœè½¬ç§»
    - åœ°åŒºæ•…éšœè½¬ç§»
    - è´Ÿè½½å‡è¡¡æ•£åˆ—
    - è´Ÿè½½å‡è¡¡è½®è¯¢
    - åœ°åŒºè´Ÿè½½å‡è¡¡æ•£åˆ—
    - åœ°åŒºè´Ÿè½½å‡è¡¡è½®è¯¢
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - æ–°åŠ å¡èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å¾·å›½èŠ‚ç‚¹
    - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
    - è‹±å›½èŠ‚ç‚¹
    - å°åº¦èŠ‚ç‚¹

# å…¨çƒé€‰æ‹©ï¼ˆé»˜è®¤èŠ‚ç‚¹ï¼šèŠ‚ç‚¹é€‰æ‹©ï¼‰
globe-select: &globe-select
  type: select
  proxies:
    - èŠ‚ç‚¹é€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©
    - æ‰‹åŠ¨é€‰æ‹©
    - è‡ªåŠ¨é€‰æ‹©åœ°åŒº
    - æ‰‹åŠ¨é€‰æ‹©åœ°åŒº
    - æ•…éšœè½¬ç§»
    - åœ°åŒºæ•…éšœè½¬ç§»
    - è´Ÿè½½å‡è¡¡æ•£åˆ—
    - è´Ÿè½½å‡è¡¡è½®è¯¢
    - åœ°åŒºè´Ÿè½½å‡è¡¡æ•£åˆ—
    - åœ°åŒºè´Ÿè½½å‡è¡¡è½®è¯¢
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - æ–°åŠ å¡èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å¾·å›½èŠ‚ç‚¹
    - æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
    - è‹±å›½èŠ‚ç‚¹
    - å°åº¦èŠ‚ç‚¹

# MARK: è®¢é˜…æ›´æ–°å’Œå»¶è¿Ÿæµ‹è¯•é”šç‚¹

# èŠ‚ç‚¹é›†åˆ æµ‹è¯•è¿é€šæ€§ä»¥åŠå»¶è¿Ÿ
p: &p
  type: http
  interval: 86400
  health-check:
    enable: true
    url: "https://www.gstatic.com/generate_204"
    interval: 600
    tolerance: 50

# è‡ªåŠ¨é€‰æ‹© æµ‹è¯•è¿é€šæ€§ä»¥åŠå»¶è¿Ÿ
url-test: &url-test
  type: url-test
  interval: 300
  tolerance: 50
  lazy: true
  url: "https://www.gstatic.com/generate_204"
  disable-udp: false
  timeout: 5000
  max-failed-times: 5
  hidden: false
  include-all-providers: true

# å›é€€/è½¬ç§»/æ•…éšœè½¬ç§» æµ‹è¯•è¿é€šæ€§ä»¥åŠå»¶è¿Ÿ
fallabck: &fallabck
  type: fallback
  interval: 50
  lazy: true
  url: "https://www.gstatic.com/generate_204"
  disable-udp: false
  timeout: 5000
  max-failed-times: 5
  hidden: false

# è´Ÿè½½å‡è¡¡-æ•£åˆ— æµ‹è¯•è¿é€šæ€§ä»¥åŠå»¶è¿Ÿ
load-balance-ch: &load-balance-ch
  type: load-balance
  interval: 50
  lazy: true
  url: "https://www.gstatic.com/generate_204"
  disable-udp: false
  strategy: consistent-hashing
  timeout: 5000
  max-failed-times: 5
  hidden: true

# è´Ÿè½½å‡è¡¡-è½®è¯¢ æµ‹è¯•è¿é€šæ€§ä»¥åŠå»¶è¿Ÿ
load-balance-rr: &load-balance-rr
  type: load-balance
  interval: 50
  lazy: true
  url: "https://www.gstatic.com/generate_204"
  disable-udp: false
  strategy: round-robin
  timeout: 5000
  max-failed-times: 5
  hidden: true

# MARK: è§„åˆ™è¡Œä¸ºé”šç‚¹

rule-anchor:
  ip: &ip
    type: http
    interval: 86400
    behavior: ipcidr

  domain: &domain
    type: http
    interval: 86400
    behavior: domain

  classical: &classical
    type: http
    interval: 86400
    behavior: classical

# MARK: è¿œç¨‹è®¢é˜…é…ç½®

# 1. url é‡Œå¡«å†™è‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼Œå¤šä¸ªè®¢é˜…é“¾æ¥æ—¶åç§°ä¸èƒ½é‡å¤ã€‚
# 2. url ä¸­å¯ä»¥å¡«å†™ Base64 è®¢é˜…é“¾æ¥å­—ç¬¦ä¸²ã€‚
# 3. è¯·ä½¿ç”¨ Clash ç±»å‹è®¢é˜…é“¾æ¥å¡«å…¥å¼•å·""å†…ä½¿ç”¨ã€‚
# 4. æˆ–å¯ä½¿ç”¨é€šç”¨è®¢é˜…é“¾æ¥é€šè¿‡ Sub-Store è¿›è¡Œè®¢é˜…è½¬æ¢(ç”¨äº Stash)ã€‚
proxy-providers:
  Mitce:
    <<: *p
    path: ./proxy-providers/Mitce.yaml
    url: ""
    # override è¦†å†™èŠ‚ç‚¹å†…å®¹ï¼Œä»¥ä¸‹ä¸ºæ”¯æŒçš„å­—æ®µ
    # override.additional-prefix ä¸ºèŠ‚ç‚¹åç§°æ·»åŠ å›ºå®šå‰ç¼€
    # override.additional-suffix ä¸ºèŠ‚ç‚¹åç§°æ·»åŠ å›ºå®šåç¼€
    # override.proxy-name å¯¹èŠ‚ç‚¹åç§°å†…å®¹è¿›è¡Œæ›¿æ¢ï¼Œæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ï¼Œpattern ä¸ºæ›¿æ¢å†…å®¹ï¼Œtarget ä¸ºæ›¿æ¢ç›®æ ‡
    override:
      # additional-prefix: "[A]"

# MARK: ç­›é€‰æ¡ä»¶é”šç‚¹

filter-hk: &filter-hk "é¦™æ¸¯|æ·±æ¸¯|æ²ªæ¸¯|äº¬æ¸¯|æ¸¯|(?i)HK|(?i)Hong Kong|ğŸ‡­ğŸ‡°"
filter-tw: &filter-tw "å°æ¹¾|å°åŒ—|å°ä¸­|å°|æ–°åŒ—|å½°åŒ–|(?i)Taiwan|(?i)TW|ğŸ‡¨ğŸ‡³"
filter-jp: &filter-jp "æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|äº¬æ—¥|è‹æ—¥|æ²ªæ—¥|ä¸Šæ—¥|å¹¿æ—¥|[^-]æ—¥|(?i)JP|(?i)Japan|(?i)Tokyo|ğŸ‡¯ğŸ‡µ"
filter-sg: &filter-sg "æ–°åŠ å¡|ç‹®åŸ|æ²ªæ–°|äº¬æ–°|æ·±æ–°|æ­æ–°|å¹¿æ–°|(?i)SG|(?i)Singapore|ğŸ‡¸ğŸ‡¬"
filter-kr: &filter-kr "éŸ©å›½|é¦–å°”|éŸ©|éŸ“|æ˜¥å·|KR|Korea|korea|KOR|ğŸ‡°ğŸ‡·"
filter-us: &filter-us "ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(?i)USA|America|america|(?i)US|(?i)United States|ğŸ‡ºğŸ‡²"
filter-de: &filter-de "å¾·å›½|å¾·æ„å¿—|æŸæ—|æ…•å°¼é»‘|æ³•å…°å…‹ç¦|æ±‰å ¡|æœå¡å°”å¤šå¤«|[^-]å¾·|(?i)DE|(?i)Germany|ğŸ‡©ğŸ‡ª"
filter-au: &filter-au "æ‚‰å°¼|å¢¨å°”æœ¬|å¸ƒé‡Œæ–¯ç­|ç€æ–¯|é˜¿å¾·è±å¾·|éœå·´ç‰¹|å ªåŸ¹æ‹‰|è¾¾å°”æ–‡|(?i)AU|(?i)Australia|(?i)æ¾³å¤§åˆ©äºš|ğŸ‡¦ğŸ‡º"
filter-gb: &filter-gb "ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|ä¼¯æ˜ç¿°|åˆ©ç‰©æµ¦|çˆ±ä¸å ¡|æ ¼æ‹‰æ–¯å“¥|å¸ƒé‡Œæ–¯æ‰˜|çº½å¡æ–¯å°”|å¨å°”å£«|è‹±æ ¼å…°|è‹æ ¼å…°|(?i)UK|(?i)GB|(?i)United Kingdom|(?i)è‹±å›½|ğŸ‡¬ğŸ‡§"
filter-in: &filter-in "æ–°å¾·é‡Œ|å­Ÿä¹°|ç­åŠ ç½—å°”|æµ·å¾—æ‹‰å·´|è‰¾å“ˆè¿ˆè¾¾å·´å¾·|é’¦å¥ˆ|å¡å°”å„ç­”|æµ¦é‚£|(?i)IN|(?i)India|(?i)å°åº¦|ğŸ‡®ğŸ‡³"

# MARK: å®šä¹‰ä»£ç†ç»„é…ç½®

proxy-groups:
  # èŠ‚ç‚¹é€‰æ‹©
  - name: èŠ‚ç‚¹é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Proxy.png"
    <<: *proxie-select

  - name: æ‰‹åŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Static.png"
    type: select
    include-all-providers: true

  - name: æ‰‹åŠ¨é€‰æ‹©åœ°åŒº
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Static.png"
    type: select
    <<: *region-select

  # å›é€€/è½¬ç§»/æ•…éšœè½¬ç§»
  - name: "æ•…éšœè½¬ç§»"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available_1.png"
    include-all-providers: true
    <<: *fallabck

  - name: "åœ°åŒºæ•…éšœè½¬ç§»"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available_1.png"
    <<:
      - *fallabck
      - *region-select

  # å¹¿å‘Šæ‹¦æˆª
  - name: "å¹¿å‘Šæ‹¦æˆª"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/AdBlack.png"
    type: select
    proxies: [æ‹’ç», ç»•è¿‡]

  # è‹¹æœæœåŠ¡
  - name: "è‹¹æœæœåŠ¡"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Apple.png"
    <<: *cns-elect

  - name: "è‹¹æœç³»ç»Ÿæ›´æ–°"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Apple_Update.png"
    <<: *cns-elect

  - name: "è‹¹æœéŸ³ä¹"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Apple_Music.png"
    <<: *cns-elect

  - name: "iCloud"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/iCloud.png"
    <<: *cns-elect

  - name: "App Store"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/App_Store.png"
    <<: *cns-elect

  - name: "è‹¹æœé‚®ä»¶"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Mail.png"
    <<: *cns-elect

  # å¾®è½¯æœåŠ¡
  - name: "å¾®è½¯æœåŠ¡"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Microsoft.png"
    <<: *cns-elect

  - name: "GitHub"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/GitHub.png"
    <<: *globe-select

  - name: "OneDrive"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/OneDrive.png"
    <<: *cns-elect

  # è°·æ­ŒæœåŠ¡
  - name: "è°·æ­ŒæœåŠ¡"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Google_Search.png"
    <<: *globe-select

  - name: "YouTube è§†é¢‘"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/YouTube.png"
    <<: *globe-select

  - name: "YouTube éŸ³ä¹"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/YouTube_Music.png"
    <<: *globe-select

  # ç”µæŠ¥æ¶ˆæ¯
  - name: "ç”µæŠ¥æ¶ˆæ¯"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Telegram_X.png"
    <<: *globe-select

  # Discord
  - name: "Discord"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Discord.png"
    <<: *globe-select

  # å¥ˆé£è§†é¢‘
  - name: "å¥ˆé£è§†é¢‘"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Netflix.png"
    <<: *globe-select

  # Emby è§†é¢‘
  - name: "Emby è§†é¢‘"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Emby.png"
    <<: *default-select

  # äººå·¥æ™ºèƒ½
  - name: "OpenAI"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Bot.png"
    <<: *globe-select

  # å›½é™…æŠ–éŸ³
  - name: "å›½é™…æŠ–éŸ³"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/TikTok.png"
    <<: *globe-select

  # Spotify éŸ³ä¹
  - name: "Spotify éŸ³ä¹"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Spotify.png"
    <<: *globe-select

  # å›½é™…åª’ä½“
  - name: "å›½é™…åª’ä½“"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/ForeignMedia.png"
    <<: *globe-select

  # å›½é™…äº’è”
  - name: "å›½é™…äº’è”"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Global.png"
    <<: *globe-select

  # æ¸¸æˆæœåŠ¡
  - name: "æ¸¸æˆæœåŠ¡"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Game.png"
    <<: *default-select

  # æµ‹é€Ÿæµ‹è¯•
  - name: "ç½‘é€Ÿæµ‹è¯•"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Speedtest.png"
    <<: *default-select

  # åœ°åŒº/åŒºåŸŸ
  - name: é¦™æ¸¯èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Hong_Kong.png"
    type: select
    proxies: [é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯è´Ÿè½½å‡è¡¡æ•£åˆ—, é¦™æ¸¯è´Ÿè½½å‡è¡¡è½®è¯¢]
    include-all-providers: true
    filter: *filter-hk

  - name: å°æ¹¾èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/China.png"
    type: select
    proxies: [å°æ¹¾è‡ªåŠ¨é€‰æ‹©, å°æ¹¾è´Ÿè½½å‡è¡¡æ•£åˆ—, å°æ¹¾è´Ÿè½½å‡è¡¡è½®è¯¢]
    include-all-providers: true
    filter: *filter-tw

  - name: æ—¥æœ¬èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Japan.png"
    type: select
    proxies: [æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©, æ—¥æœ¬è´Ÿè½½å‡è¡¡æ•£åˆ—, æ—¥æœ¬è´Ÿè½½å‡è¡¡è½®è¯¢]
    include-all-providers: true
    filter: *filter-jp

  - name: æ–°åŠ å¡èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Singapore.png"
    type: select
    proxies: [æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©, æ–°åŠ å¡è½½å‡è¡¡æ•£åˆ—, æ–°åŠ å¡è½½å‡è¡¡è½®è¯¢]
    include-all-providers: true
    filter: *filter-sg

  - name: éŸ©å›½èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Korea.png"
    type: select
    proxies: [éŸ©å›½è‡ªåŠ¨é€‰æ‹©, éŸ©å›½è½½å‡è¡¡æ•£åˆ—, éŸ©å›½è½½å‡è¡¡è½®è¯¢]
    include-all-providers: true
    filter: *filter-kr

  - name: ç¾å›½èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_States.png"
    type: select
    proxies: [ç¾å›½è‡ªåŠ¨é€‰æ‹©, ç¾å›½è½½å‡è¡¡æ•£åˆ—, ç¾å›½è½½å‡è¡¡è½®è¯¢]
    include-all-providers: true
    filter: *filter-us

  - name: å¾·å›½èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Germany.png"
    type: select
    proxies: [å¾·å›½è‡ªåŠ¨é€‰æ‹©, å¾·å›½è½½å‡è¡¡æ•£åˆ—, å¾·å›½è½½å‡è¡¡è½®è¯¢]
    filter: *filter-de
    include-all-providers: true

  - name: æ¾³å¤§åˆ©äºšèŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Australia.png"
    type: select
    proxies: [æ¾³å¤§åˆ©äºšè‡ªåŠ¨é€‰æ‹©, æ¾³å¤§åˆ©äºšè½½å‡è¡¡æ•£åˆ—, æ¾³å¤§åˆ©äºšè½½å‡è¡¡è½®è¯¢]
    filter: *filter-au
    include-all-providers: true

  - name: è‹±å›½èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_Kingdom.png"
    type: select
    proxies: [è‹±å›½è‡ªåŠ¨é€‰æ‹©, è‹±å›½è½½å‡è¡¡æ•£åˆ—, è‹±å›½è½½å‡è¡¡è½®è¯¢]
    filter: *filter-gb
    include-all-providers: true

  - name: å°åº¦èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/India.png"
    type: select
    proxies: [å°åº¦è‡ªåŠ¨é€‰æ‹©, å°åº¦è½½å‡è¡¡æ•£åˆ—, å°åº¦è½½å‡è¡¡è½®è¯¢]
    filter: *filter-in
    include-all-providers: true

  # å…œåº•
  - name: "æ¼ç½‘ä¹‹é±¼"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Final.png"
    <<: *default-select

  # è‡ªåŠ¨åŒ–
  - name: è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Auto.png"
    <<: *url-test

  - name: è‡ªåŠ¨é€‰æ‹©åœ°åŒº
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Auto.png"
    type: url-test
    interval: 300
    tolerance: 50
    lazy: true
    url: "https://www.gstatic.com/generate_204"
    disable-udp: false
    timeout: 5000
    max-failed-times: 5
    hidden: false
    <<: *region-select

  - name: é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Hong_Kong.png"
    <<: *url-test
    filter: *filter-hk

  - name: å°æ¹¾è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/China.png"
    <<: *url-test
    filter: *filter-tw

  - name: æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Japan.png"
    <<: *url-test
    filter: *filter-jp

  - name: æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Singapore.png"
    <<: *url-test
    filter: *filter-sg

  - name: éŸ©å›½è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Korea.png"
    <<: *url-test
    filter: *filter-kr

  - name: ç¾å›½è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_States.png"
    <<: *url-test
    filter: *filter-us

  - name: å¾·å›½è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Germany.png"
    <<: *url-test
    filter: *filter-de

  - name: æ¾³å¤§åˆ©äºšè‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Australia.png"
    <<: *url-test
    filter: *filter-au

  - name: è‹±å›½è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_Kingdom.png"
    <<: *url-test
    filter: *filter-gb

  - name: å°åº¦è‡ªåŠ¨é€‰æ‹©
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/India.png"
    <<: *url-test
    filter: *filter-in

  # è´Ÿè½½å‡è¡¡
  - name: è´Ÿè½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available.png"
    include-all-providers: true
    <<: *load-balance-ch

  - name: è´Ÿè½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available.png"
    include-all-providers: true
    <<: *load-balance-rr

  - name: åœ°åŒºè´Ÿè½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available.png"
    <<:
      - *load-balance-ch
      - *region-select

  - name: åœ°åŒºè´Ÿè½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available.png"
    <<:
      - *load-balance-rr
      - *region-select

  - name: é¦™æ¸¯è´Ÿè½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Hong_Kong.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-hk

  - name: é¦™æ¸¯è´Ÿè½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Hong_Kong.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-hk

  - name: å°æ¹¾è´Ÿè½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/China.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-tw

  - name: å°æ¹¾è´Ÿè½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/China.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-tw

  - name: æ—¥æœ¬è´Ÿè½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Japan.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-jp

  - name: æ—¥æœ¬è´Ÿè½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Japan.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-jp

  - name: æ–°åŠ å¡è½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Singapore.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-sg

  - name: æ–°åŠ å¡è½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Singapore.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-sg

  - name: éŸ©å›½è½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Korea.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-kr

  - name: éŸ©å›½è½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Korea.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-kr

  - name: ç¾å›½è½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_States.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-us

  - name: ç¾å›½è½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_States.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-us

  - name: å¾·å›½è½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Germany.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-de

  - name: å¾·å›½è½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Germany.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-de

  - name: æ¾³å¤§åˆ©äºšè½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Australia.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-au

  - name: æ¾³å¤§åˆ©äºšè½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Australia.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-au

  - name: è‹±å›½è½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_Kingdom.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-gb

  - name: è‹±å›½è½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_Kingdom.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-gb

  - name: å°åº¦è½½å‡è¡¡æ•£åˆ—
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/India.png"
    include-all-providers: true
    <<: *load-balance-ch
    filter: *filter-in

  - name: å°åº¦è½½å‡è¡¡è½®è¯¢
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/India.png"
    include-all-providers: true
    <<: *load-balance-rr
    filter: *filter-in

  # å†…ç½®ç­–ç•¥
  - name: "ç›´è¿"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Direct.png"
    type: select
    udp: true
    hidden: true
    proxies: [DIRECT]

  - name: "æ‹’ç»"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Reject.png"
    type: select
    hidden: true
    proxies: [REJECT]

  - name: "ç»•è¿‡"
    icon: "https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Bypass.png"
    type: select
    hidden: true
    proxies: [PASS]

# MARK: è§„åˆ™é›†é…ç½®

rule-providers:
  # è‹¹æœæœåŠ¡
  apple-service-classical:
    <<: *classical
    path: ./rule-providers/apple-service-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Apple/Apple_Classical_No_Resolve.yaml"

  apple-service-domain:
    <<: *domain
    path: ./rule-providers/apple-service-domain.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Domain.yaml"

  apple-system-ota-classical:
    <<: *classical
    path: ./rule-providers/apple-system-ota-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/SystemOTA/SystemOTA_No_Resolve.yaml"

  apple-music-classical:
    <<: *classical
    path: ./rule-providers/apple-music-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/AppleMusic/AppleMusic_No_Resolve.yaml"

  apple-icloud-classical:
    <<: *classical
    path: ./rule-providers/apple-icloud-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/iCloud/iCloud_No_Resolve.yaml"

  apple-app-store-classical:
    <<: *classical
    path: ./rule-providers/apple-app-store-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/AppStore/AppStore_No_Resolve.yaml"

  apple-mail-classical:
    <<: *classical
    path: ./rule-providers/apple-mail-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/AppleMail/AppleMail_No_Resolve.yaml"

  # å¾®è½¯æœåŠ¡
  microsoft-service-classical:
    <<: *classical
    path: ./rule-providers/microsoft-service-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Microsoft/Microsoft_No_Resolve.yaml"

  microsoft-github-classical:
    <<: *classical
    path: ./rule-providers/microsoft-github-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/GitHub/GitHub_No_Resolve.yaml"

  microsoft-onedrive-classical:
    <<: *classical
    path: ./rule-providers/microsoft-onedrive-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/OneDrive/OneDrive_No_Resolve.yaml"

  # è°·æ­ŒæœåŠ¡
  google-service-classical:
    <<: *classical
    path: ./rule-providers/google-service-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Google/Google_No_Resolve.yaml"

  google-youtube-classical:
    <<: *classical
    path: ./rule-providers/google-youtube-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/YouTube/YouTube_No_Resolve.yaml"

  google-youtube-music-classical:
    <<: *classical
    path: ./rule-providers/google-youtube-music-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/YouTubeMusic/YouTubeMusic_No_Resolve.yaml"

  # ç”µæŠ¥æ¶ˆæ¯
  telegram-classical:
    <<: *classical
    path: ./rule-providers/telegram-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram_No_Resolve.yaml"

  # Discord
  discord-classical:
    <<: *classical
    path: ./rule-providers/discord-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord_No_Resolve.yaml"

  # å¥ˆé£è§†é¢‘
  netflix-classical:
    <<: *classical
    path: ./rule-providers/netflix-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Netflix/Netflix_Classical_No_Resolve.yaml"

  # Emby è§†é¢‘
  emby-classical:
    <<: *classical
    path: ./rule-providers/emby-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Emby/Emby_No_Resolve.yaml"

  # äººå·¥æ™ºèƒ½
  open-ai-classical:
    <<: *classical
    path: ./rule-providers/open-ai-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI_No_Resolve.yaml"

  # å›½é™…æŠ–éŸ³
  tiktok-classical:
    <<: *classical
    path: ./rule-providers/tiktok-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok_No_Resolve.yaml"

  # Spotify éŸ³ä¹
  spotify-classical:
    <<: *classical
    path: ./rule-providers/spotify-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Spotify/Spotify_No_Resolve.yaml"

  # å›½é™…åª’ä½“
  globe-media-domain:
    <<: *domain
    path: ./rule-providers/globe-media-domain.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia_Domain.yaml"

  globe-media-classical:
    <<: *classical
    path: ./rule-providers/globe-media-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/GlobalMedia/GlobalMedia_Classical_No_Resolve.yaml"

  # å›½é™…äº’è”
  globe-classical:
    <<: *classical
    path: ./rule-providers/globe-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Global/Global_Classical_No_Resolve.yaml"

  globe-domain:
    <<: *domain
    path: ./rule-providers/globe-domain.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global_Domain.yaml"

  # æ¸¸æˆæœåŠ¡
  game-classical:
    <<: *classical
    path: ./rule-providers/game-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Game/Game_No_Resolve.yaml"

  # å›½é™…äº‘è®¡ç®—
  globe-cloud-classical:
    <<: *classical
    path: ./rule-providers/globe-cloud-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Cloud/CloudGlobal/CloudGlobal_No_Resolve.yaml"

  globe-cloud-ip:
    <<: *ip
    path: ./rule-providers/globe-cloud-ip.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Cloud/CloudGlobal/CloudGlobal_IP.yaml"

  # ç½‘é€Ÿæµ‹è¯•
  globe-speedtest-classical:
    <<: *classical
    path: ./rule-providers/globe-speedtest-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Speedtest/Speedtest_No_Resolve.yaml"

  # å¹¿å‘Šæ‹¦æˆª
  ad-reject-1-domain:
    <<: *domain
    path: ./rule-providers/ad-reject-1-domain.yaml
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/reject.txt"

  ad-reject-2-domain:
    <<: *domain
    path: ./rule-providers/ad-reject-2-domain.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Advertising/Advertising_Domain.yaml"

  ad-reject-classical:
    <<: *classical
    path: ./rule-providers/ad-reject-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Advertising/Advertising_No_Resolve.yaml"

  # ç›´è¿
  direct-china-max-no-media-domain:
    <<: *domain
    path: ./rule-providers/direct-china-max-no-media-domain.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaMaxNoMedia/ChinaMaxNoMedia_Domain.yaml"

  direct-china-max-no-media-ip:
    <<: *ip
    path: ./rule-providers/direct-china-max-no-media-ip.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaMaxNoMedia/ChinaMaxNoMedia_IP.yaml"

  direct-china-max-no-media-classical:
    <<: *classical
    path: ./rule-providers/direct-china-max-no-media-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaMaxNoMedia/ChinaMaxNoMedia.yaml"

  direct-china-media-classical:
    <<: *classical
    path: ./rule-providers/direct-china-media-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/ChinaMedia/ChinaMedia_No_Resolve.yaml"

  direct-lan-classical:
    <<: *classical
    path: ./rule-providers/direct-lan-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Lan/Lan_No_Resolve.yaml"

  direct-private-domain:
    <<: *domain
    path: ./rule-providers/direct-private-domain.yaml
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/private.txt"

  direct-cloud-classical:
    <<: *classical
    path: ./rule-providers/direct-cloud-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Cloud/CloudCN/CloudCN_No_Resolve.yaml"

  direct-domain-replenish-domain:
    <<: *domain
    path: ./rule-providers/direct-domain-replenish-domain.yaml
    url: "https://raw.githubusercontent.com/xtzPioneer/Airport/main/Rules/Clash/Direct_Domain_Replenish.yaml"

  # ç›´è¿åº”ç”¨è¿›ç¨‹
  direct-applications-classical:
    <<: *classical
    path: ./rule-providers/direct-applications-classical.yaml
    url: "https://raw.githubusercontent.com/xtzPioneer/Airport/main/Rules/Clash/Direct_Applications_Classical.yaml"

  direct-applications-replenish-classical:
    <<: *classical
    path: ./rule-providers/direct-applications-replenish-classical.yaml
    url: "https://raw.githubusercontent.com/xtzPioneer/Airport/main/Rules/Clash/Direct_Applications_Replenish_Classical.yaml"

  # DNS
  dns-classical:
    <<: *classical
    path: ./rule-providers/dns-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/DNS/DNS_No_Resolve.yaml"

  direct-dns-classical:
    <<: *classical
    path: ./rule-providers/direct-dns-classical.yaml
    url: "https://raw.githubusercontent.com/xtzPioneer/Airport/main/Rules/Clash/ChinaDNS_No_Resolve.yaml"

  globe-dns-classical:
    <<: *classical
    path: ./rule-providers/globe-dns-classical.yaml
    url: "https://raw.githubusercontent.com/xtzPioneer/Airport/main/Rules/Clash/GlobalDNS_No_Resolve.yaml"

  # NTP
  ntp-classical:
    <<: *classical
    path: ./rule-providers/ntp-classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/NTPService/NTPService_No_Resolve.yaml"

  # STUN
  stun-classical:
    <<: *classical
    path: ./rule-providers/stun-classical.yaml
    url: "https://raw.githubusercontent.com/xtzPioneer/Airport/main/Rules/Clash/STUN_No_Resolve.yaml"

# MARK: åˆ†æµè§„åˆ™é…ç½®

# æ³¨æ„ï¼šè§„åˆ™è‡ªä¸Šè€Œä¸‹åŒ¹é…ï¼Œæ‰€ä»¥è§„åˆ™é¡ºåºç›´æ¥å½±å“æµæ•ˆæœã€‚
# æ³¨æ„ï¼šè§„åˆ™è‡ªä¸Šè€Œä¸‹åŒ¹é…ï¼Œæ‰€ä»¥è§„åˆ™é¡ºåºç›´æ¥å½±å“æµæ•ˆæœã€‚
# æ³¨æ„ï¼šè§„åˆ™è‡ªä¸Šè€Œä¸‹åŒ¹é…ï¼Œæ‰€ä»¥è§„åˆ™é¡ºåºç›´æ¥å½±å“æµæ•ˆæœã€‚

# é¦–å…ˆï¼Œè¯·æ³¨æ„ï¼ŒæŠŠæ‰€æœ‰éIPç±»è§„åˆ™å†™åœ¨ IPç±»è§„åˆ™ä¹‹å‰ï¼Œè¿™æ˜¯æœ€æ²¡æœ‰é—®é¢˜çš„ï¼
# é¿å… DNS æ±¡æŸ“å’Œ DNS æ³„æ¼æœ€æœ‰æ•ˆçš„åŠæ³•å°±æ˜¯æ°¸è¿œä¸åœ¨æœ¬åœ°è¿›è¡Œ DNS è§£æã€‚
# è€Œ Mihomo èƒ½ä¸”åªèƒ½é€šè¿‡ Fake IP å’ŒåŸŸåè§„åˆ™åŒ¹é…çš„æ–¹å¼ å¯ä»¥å®ç°éç›´è¿åŸŸå ä¸€å®šä¸åœ¨æœ¬åœ°æœ¬æœºè¿›è¡Œä»»ä½• DNS è§£æã€‚
# åœ¨ Mihomo ä¸­ï¼Œè§„åˆ™è‡ªä¸Šè€Œä¸‹åŒ¹é…ï¼Œåªæœ‰å½“é‡åˆ° IP ç±»è§„åˆ™ï¼ˆå¦‚ IP-CIDRã€IP-CIDR6ã€GEOIP å’Œ IP-ASNï¼‰æ—¶æ‰ä¼šå‘èµ· DNS è§£æã€‚
# å› æ­¤ï¼Œåœ¨ Mihomo ä¸­ï¼Œå°†ä¼šè§¦å‘ DNS è§£æçš„è§„åˆ™æ”¾åœ¨åŸŸåå’Œ URL åŒ¹é…è§„åˆ™åé¢éå¸¸é‡è¦ã€‚

rules:
  # å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,ad-reject-1-domain,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,ad-reject-2-domain,å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,ad-reject-classical,å¹¿å‘Šæ‹¦æˆª

  # DNSè§£æ
  - RULE-SET,direct-dns-classical,ç›´è¿
  - RULE-SET,globe-dns-classical,å›½é™…äº’è”

  # åº”ç”¨è¿›ç¨‹
  - RULE-SET,direct-applications-classical,ç›´è¿
  - RULE-SET,direct-applications-replenish-classical,ç›´è¿

  # è‹¹æœæœåŠ¡
  - RULE-SET,apple-mail-classical,è‹¹æœé‚®ä»¶
  - RULE-SET,apple-app-store-classical,App Store
  - RULE-SET,apple-icloud-classical,iCloud
  - RULE-SET,apple-music-classical,è‹¹æœéŸ³ä¹
  - RULE-SET,apple-system-ota-classical,è‹¹æœç³»ç»Ÿæ›´æ–°
  - RULE-SET,apple-service-domain,è‹¹æœæœåŠ¡
  - RULE-SET,apple-service-classical,è‹¹æœæœåŠ¡

  # å¾®è½¯æœåŠ¡
  - RULE-SET,microsoft-onedrive-classical,OneDrive
  - RULE-SET,microsoft-github-classical,GitHub
  - RULE-SET,microsoft-service-classical,å¾®è½¯æœåŠ¡

  # è°·æ­ŒæœåŠ¡
  - RULE-SET,google-youtube-classical,YouTube è§†é¢‘
  - RULE-SET,google-youtube-music-classical,YouTube éŸ³ä¹
  - RULE-SET,google-service-classical,è°·æ­ŒæœåŠ¡

  # ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,telegram-classical,ç”µæŠ¥æ¶ˆæ¯

  # Discord
  - RULE-SET,discord-classical,Discord

  # å¥ˆé£è§†é¢‘
  - RULE-SET,netflix-classical,å¥ˆé£è§†é¢‘

  # Emby è§†é¢‘
  - RULE-SET,emby-classical,è§†é¢‘

  # äººå·¥æ™ºèƒ½
  - RULE-SET,open-ai-classical,OpenAI

  # å›½é™…æŠ–éŸ³
  - RULE-SET,tiktok-classical,å›½é™…æŠ–éŸ³

  # Spotify éŸ³ä¹
  - RULE-SET,spotify-classical,Spotify éŸ³ä¹

  # æ¸¸æˆæœåŠ¡
  - RULE-SET,game-classical,æ¸¸æˆæœåŠ¡

  # ç½‘é€Ÿæµ‹è¯•
  - RULE-SET,globe-speedtest-classical,ç½‘é€Ÿæµ‹è¯•

  # å›½é™…äº‘è®¡ç®—
  - RULE-SET,globe-cloud-classical,å›½é™…äº’è”
  - RULE-SET,globe-cloud-ip,å›½é™…äº’è”,no-resolve

  # å›½é™…åª’ä½“
  - RULE-SET,globe-media-domain,å›½é™…åª’ä½“
  - RULE-SET,globe-media-classical,å›½é™…åª’ä½“

  # å›½é™…äº’è”
  - RULE-SET,globe-domain,å›½é™…äº’è”
  - RULE-SET,globe-classical,å›½é™…äº’è”

  # ç›´è¿
  - RULE-SET,direct-lan-classical,ç›´è¿
  - RULE-SET,direct-private-domain,ç›´è¿
  - RULE-SET,direct-china-media-classical,ç›´è¿
  - RULE-SET,direct-china-max-no-media-domain,ç›´è¿
  - RULE-SET,direct-china-max-no-media-classical,ç›´è¿
  - RULE-SET,direct-china-max-no-media-ip,ç›´è¿,no-resolve
  - RULE-SET,direct-cloud-classical,ç›´è¿
  - RULE-SET,direct-domain-replenish-domain,ç›´è¿

  # GEO
  - GEOIP,LAN,ç›´è¿,no-resolve
  - GEOIP,CN,ç›´è¿,no-resolve

  # å…œåº•
  - MATCH,æ¼ç½‘ä¹‹é±¼
